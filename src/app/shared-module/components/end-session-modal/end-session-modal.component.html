<!--
 ~ Copyright (c) 2024 by Miłosz Gilga <https://miloszgilga.pl>
 ~ Silesian University of Technology
 -->

<div
  *ngIf="isModalOpen$ | async"
  @fadeInOutAnimation
  class="app__modal-container">
  <div class="app__modal-wrapper">
    <img
      src="assets/icon/info-important-icon.svg"
      class="app__modal-wrapper__image-element"
      alt="" />
    <h2 class="app__modal-wrapper__h2-header">
      Automatyczne wylogowanie nastąpi za {{ currentWaitingTime$ | async }}
      sekund.
    </h2>
    <p class="app__modal-wrapper__description">
      W wyniku braku aktywności zostaniesz automatycznie wylogowany/na w
      przeciągu {{ waitingTime }} sekund. Jeśli chcesz odnowić czas sesji,
      kliknij w przycisk <strong>zamknij okno i odśwież sesję</strong>. Jeśli
      natomiast chcesz wylogować się w trybie natychmiastowym, kliknij w
      przycisk <strong>Wyloguj z systemu</strong>.
    </p>
    <div class="app__modal-buttons-container">
      <button
        (click)="handleCloseModalAndLogoutUser()"
        class="app__button app__button--light user-details-popup__button app__button--hollow-light app__button--full-size-window"
        title="Kliknij aby natychmiastowo wylogować się z systemu">
        Wyloguj z systemu
        <ng-container *ngIf="isLoggingOut$ | async; else showArrow">
          <img
            src="assets/gif/suspense-loading-dark.gif"
            alt=""
            class="app__button--loading-content-spinner" />
        </ng-container>
        <ng-template #showArrow>
          <ng-icon name="matArrowRightAlt" class="app__button__arrow" />
        </ng-template>
      </button>
      <button
        (click)="handleCloseModalAndRenewSession()"
        class="app__button app__button--light user-details-popup__button app__modal-buttons-container__button--left app__button--full-size-window"
        title="Kliknij aby zamknąć okno">
        Zamknij okno i odśwież sesję
      </button>
    </div>
  </div>
</div>

<!--
 ~ Copyright (c) 2024 by Miłosz Gilga <https://miloszgilga.pl>
 ~ Silesian University of Technology
 -->

@if (formGroup) {
<div
  [formGroup]="formGroup"
  (focusin)="handleOpenListVisibility()"
  (focusout)="handleCloseListVisibility()"
  class="app__select__container select-list__label-container">
  <input
    [id]="inputId"
    [readOnly]="true"
    [placeholder]="placeholder"
    [formControlName]="formControlId"
    type="text"
    autocomplete="off"
    class="app__input app__input--light app__input--exclude-margin select-drop-box__custom-select-input" />
  @if (listElements.length > 0 && listVisible) {
  <ul class="app-select-list__list-container">
    @for (result of listElements; track result) {
    <li class="app-select-list__list-element">
      <button type="button" (click)="handleInsertToInputValue(result)">
        {{ result }}
      </button>
    </li>
    }
  </ul>
  }
  <ng-icon class="app__select__arrow-icon" name="matKeyboardArrowDown" />
</div>
@if (validateFormField()) {
<div
  class="app__input-error app__input-error--light app__input-error--margin-top">
  Proszę wybrać {{ errorField }}
</div>
} }
